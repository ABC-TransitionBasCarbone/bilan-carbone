fonctionnement . déplacements pro:
  titre: Déplacements professionnels
  formule:
    somme:
      - déplacements
  unité: kgCO2e

fonctionnement . déplacements pro . déplacements:
  # TODO: Should be a liste of types of collaborators
  titre: Déplacements
  question: Décrivez les déplacements professionnels de vos collaborateurs
  description: |
    Les déplacements professionnels de vos collaborateurs sont tous les déplacements autres que les déplacements domicile-travail, effectués dans le cadre du travail. Ceux-ci incluent par exemple les déplacements pour se rendre à des congrès, conventions, festivals, prévisionnages, etc.
  formule: déplacement type
  par défaut: 0
  unité: kgCO2e

fonctionnement . déplacements pro . déplacement type:
  formule:
    somme:
      - repas
      - transport
      - nuitées
  unité: kgCO2e

fonctionnement . déplacements pro . déplacement type . nombre participants:
  question: Nombre de participants

fonctionnement . déplacements pro . déplacement type . nombre occurences:
  question: Nombre d'occurrences

fonctionnement . déplacements pro . déplacement type . nombre de nuitées:
  question: Nombre de nuitées
  unité: jour

fonctionnement . déplacements pro . déplacement type . repas:
  formule:
    produit:
      - nombre participants
      - nombre occurences
      - nombre de nuitées
      - 2 repas/jour
      - commun . FE . repas
  par défaut: 0
  unité: kgCO2e

fonctionnement . déplacements pro . déplacement type . transport:
  formule:
    produit:
      - nombre participants
      - nombre occurences
      - distance
      - FE
  par défaut: 0
  unité: kgCO2e
  avec:
    distance:
      question: Distance "aller-retour"
      unité: km

    FE:
      formule:
        variations:
          - si: moyen de transport = "RER et transilien"
            alors: commun . FE . moyen de transport . RER et transilien
          - si: moyen de transport = "métro ou tram"
            alors: commun . FE . moyen de transport . métro ou tram
          - si: moyen de transport = "bus"
            alors: commun . FE . moyen de transport . bus
          - si: moyen de transport = "vélo électrique"
            alors: commun . FE . moyen de transport . vélo électrique
          - si: moyen de transport = "voiture diesel"
            alors: commun . FE . moyen de transport . voiture diesel
          - si: moyen de transport = "voiture essence"
            alors: commun . FE . moyen de transport . voiture essence
          - si: moyen de transport = "voiture hybride"
            alors: commun . FE . moyen de transport . voiture hybride
          - si: moyen de transport = "voiture électrique"
            alors: commun . FE . moyen de transport . voiture électrique
          - si: moyen de transport = "moto"
            alors: commun . FE . moyen de transport . moto
          - si: moyen de transport = "scooter"
            alors: commun . FE . moyen de transport . scooter
          - si: moyen de transport = "TGV"
            alors: commun . FE . moyen de transport . TGV
          - si: moyen de transport = "avion"
            alors: commun . FE . moyen de transport . avion

fonctionnement . déplacements pro . déplacement type . transport . moyen de transport:
  question: Moyen de transport
  une possibilité:
    - RER et transilien
    - métro ou tram
    - bus
    - vélo électrique
    - voiture diesel
    - voiture essence
    - voiture hybride
    - voiture électrique
    - moto
    - scooter
    - trottinette électrique
    - TGV
    - avion
  avec:
    RER et transilien:
    métro ou tram:
    bus:
    vélo électrique:
    voiture diesel:
    voiture essence:
    voiture hybride:
    voiture électrique:
    moto:
    scooter:
    trottinette électrique:
    TGV:
    avion:

fonctionnement . déplacements pro . déplacement type . nuitées:
  formule:
    produit:
      - nombre participants
      - nombre occurences
      - nombre de nuitées
      - FE nuitée
  par défaut: 0
  unité: kgCO2e
  avec:
    FE nuitée:
      formule:
        variations:
          - si: type hébergement = "appartement"
            alors: type hébergement . appartement . FE
          - si: type hébergement = "hotel 1 étoile"
            alors: type hébergement . hotel 1 étoile . FE
          - si: type hébergement = "hotel 2 étoiles"
            alors: type hébergement . hotel 2 étoiles . FE
          - si: type hébergement = "hotel 3 étoiles"
            alors: type hébergement . hotel 3 étoiles . FE
          - si: type hébergement = "hotel 4 étoiles"
            alors: type hébergement . hotel 4 étoiles . FE
          - si: type hébergement = "hotel 5 étoiles"
            alors: type hébergement . hotel 5 étoiles . FE

fonctionnement . déplacements pro . déplacement type . type hébergement:
  question: Type d'hébergement
  une possibilité:
    - appartement
    - hotel 1 étoile
    - hotel 2 étoiles
    - hotel 3 étoiles
    - hotel 4 étoiles
    - hotel 5 étoiles
  avec:
    appartement:
      titre: Appartement
    appartement . FE:
      valeur: 9.91
      unité: kgCO2e/nuitée
      meta:
        id: 100

    hotel 1 étoile:
      titre: Hôtel 1*
    hotel 1 étoile . FE:
      valeur: 4.73
      unité: kgCO2e/nuitée
      meta:
        id: 102

    hotel 2 étoiles:
      titre: Hôtel 2*
    hotel 2 étoiles . FE:
      valeur: 8.53
      unité: kgCO2e/nuitée
      meta:
        id: 103

    hotel 3 étoiles:
      titre: Hôtel 3*
    hotel 3 étoiles . FE:
      valeur: 0.03
      unité: kgCO2e/nuitée
      meta:
        id: 104

    hotel 4 étoiles:
      titre: Hôtel 4*
    hotel 4 étoiles . FE:
      valeur: 11.43
      unité: kgCO2e/nuitée
      meta:
        id: 105

    hotel 5 étoiles:
      titre: Hôtel 5*
    hotel 5 étoiles . FE:
      valeur: 17.11
      unité: kgCO2e/nuitée
      meta:
        id: 106
